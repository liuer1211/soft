(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19f1a768"],{"08fd":function(e,t,l){var o={"./1.jpg":"f4ac","./2.jpg":"e461","./4.jpg":"ff08","./lo.png":"f48e","./logo.png":"4d75","./vlogo.png":"b5fb"};function a(e){var t=n(e);return l(t)}function n(e){if(!l.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=n,e.exports=a,a.id="08fd"},4675:function(e,t,l){},"4d75":function(e,t,l){e.exports=l.p+"static/img/logo.f792bc06.png"},"7dff":function(e,t,l){"use strict";l("4675")},"89b7":function(e,t,l){"use strict";l("8a50")},"8a50":function(e,t,l){},dca4:function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"novel-main"},[l("div",{staticClass:"search-main"},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"书名"}},[l("el-input",{attrs:{clearable:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"作者"}},[l("el-input",{attrs:{clearable:""},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"类型"}},[l("el-select",{attrs:{clearable:"",multiple:"",placeholder:"请选择"},model:{value:e.form.selectVal,callback:function(t){e.$set(e.form,"selectVal",t)},expression:"form.selectVal"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1)],1),l("div",{staticClass:"novel-list"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"",stripe:""}},[l("el-table-column",{attrs:{prop:"num",label:"书籍编号"}}),l("el-table-column",{attrs:{prop:"title",label:"书名",width:"180"}}),l("el-table-column",{attrs:{prop:"author",label:"作者"}}),l("el-table-column",{attrs:{label:"类型",prop:"titleTypeName"}}),l("el-table-column",{attrs:{label:"封面"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("img",{attrs:{src:"http://180.76.106.221:5010/images/novel/"+e.row.imgName}})]}}])}),l("el-table-column",{attrs:{prop:"createTime",label:"创建日期",width:"180"}}),l("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.typeAdd(t.row)}}},[e._v("编辑")])]}}])})],1)],1),l("div",{staticClass:"block"},[l("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,total:e.total,layout:"prev, pager, next, jumper, ->, sizes, total"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),l("div",{staticClass:"novel-main-bot"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.typeAdd("")}}},[e._v("新增")])],1),l("Add",{attrs:{dialogFormVisible:e.dialogFormVisible,detail:e.detail},on:{toClose:function(){e.dialogFormVisible=!1},toDetermine:e.toDetermine}})],1)},a=[],n=l("1da1"),r=(l("96cf"),function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-dialog",{attrs:{title:"新增",visible:e.dialogFormVisible,fullscreen:"",center:"","show-close":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{staticClass:"model-one"},[l("el-form",{attrs:{model:e.formAddOne}},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"书名","label-width":e.formLabelWidth}},[l("el-input",{model:{value:e.formAddOne.title,callback:function(t){e.$set(e.formAddOne,"title",t)},expression:"formAddOne.title"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"作者","label-width":e.formLabelWidth}},[l("el-input",{model:{value:e.formAddOne.author,callback:function(t){e.$set(e.formAddOne,"author",t)},expression:"formAddOne.author"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"书籍类型","label-width":e.formLabelWidth}},[l("el-select",{attrs:{clearable:"",multiple:"",placeholder:"请选择"},model:{value:e.formAddOne.type,callback:function(t){e.$set(e.formAddOne,"type",t)},expression:"formAddOne.type"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"内容类别","label-width":e.formLabelWidth}},[l("el-select",{attrs:{clearable:"",multiple:"",placeholder:"请选择"},model:{value:e.formAddOne.infoType,callback:function(t){e.$set(e.formAddOne,"infoType",t)},expression:"formAddOne.infoType"}},e._l(e.optionsType,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"题记","label-width":e.formLabelWidth}},[l("el-input",{model:{value:e.formAddOne.instro,callback:function(t){e.$set(e.formAddOne,"instro",t)},expression:"formAddOne.instro"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"简介","label-width":e.formLabelWidth}},[e.dialogFormVisible?l("Tiptap",{attrs:{context:e.formAddOne.context},on:{getData:e.getData}}):e._e()],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"上传封面","label-width":e.formLabelWidth}},[l("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formAddOne.img?l("img",{staticClass:"avatar",attrs:{src:e.formAddOne.img}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"上传视频","label-width":e.formLabelWidth}},[l("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-exceed":e.handleExceed,"file-list":e.fileList}},[l("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1)],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.toClose}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.toDetermine}},[e._v("确 定")])],1)])],1)}),i=[],s=(l("d3b7"),l("3ca3"),l("ddb0"),l("2b3d"),l("9861"),l("99af"),l("b0c0"),function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-tiptap",{attrs:{placeholder:"请输入",extensions:e.extensions},on:{onUpdate:e.getData},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)}),c=[],d=l("4ccc"),u={props:{context:{type:String,default:""}},computed:{},data:function(){return{extensions:[new d["e"],new d["F"],new d["w"],new d["l"]({level:6}),new d["g"],new d["z"],new d["j"],new d["y"],new d["m"],new d["s"],new d["q"]],text:this.context}},methods:{getData:function(){this.$emit("getData",this.text)}},mounted:function(){},beforeDestroy:function(){},destroyed:function(){}},f=u,m=l("2877"),p=Object(m["a"])(f,s,c,!1,null,null,null),b=p.exports,h={components:{Tiptap:b},props:{dialogFormVisible:{type:Boolean,default:!1},detail:{type:Object,default:function(){return{}}}},data:function(){return{optionsType:[{value:"01",label:"人物"},{value:"02",label:"武学"},{value:"03",label:"门派"},{value:"04",label:"兵器"},{value:"05",label:"宿命"},{value:"06",label:"其他"}],options:[{value:"01",label:"武侠"},{value:"02",label:"爱情"},{value:"03",label:"家国"},{value:"04",label:"文艺"},{value:"05",label:"青春"}],formAddOne:{title:"",author:"",type:[],img:"",des:"",infoType:[],instro:"",context:""},formLabelWidth:"120px",fileList:[],textInfo:""}},methods:{toClose:function(){this.$emit("toClose",!1)},getData:function(e){this.textInfo=e},toDetermine:function(){console.log("",this.formAddOne,this.textInfo)},handleAvatarSuccess:function(e,t){this.formAddOne.img=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,l=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),l||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&l},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))}},created:function(){console.log("--1--")},mounted:function(){console.log("--2--")},watch:{detail:{handler:function(e,t){console.log("oldVal:",e),e.context?(this.formAddOne.context=e.context,this.formAddOne.instro=e.instro):(console.log("------"),this.formAddOne.context="",this.formAddOne.instro="")},deep:!0}},beforeDestroy:function(){console.log("---b-d=",this.context)},destroyed:function(){console.log("---d=",this.context)}},g=h,v=(l("7dff"),Object(m["a"])(g,r,i,!1,null,"798a413f",null)),x=v.exports,y=l("bc3a"),w=l.n(y),O=w.a.create({baseURL:"http://180.76.106.221:8001/",timeout:5e3});O.interceptors.request.use((function(e){if("post"==e.method){var t=new FormData;for(var l in e.data)t.append(l,e.data[l]);e.data=t}return e})),O.interceptors.response.use((function(e){return e.data}),(function(e){}));var A=O,k=function(e){return A({url:"/queryNovalList",method:"post",data:e})},C={components:{Add:x},data:function(){return{form:{title:"",author:"",selectVal:[]},options:[{value:"01",label:"武侠"},{value:"02",label:"爱情"},{value:"03",label:"家国"},{value:"04",label:"文艺"},{value:"05",label:"青春"}],tableData:[{id:"1",num:"0001",title:"夜灵犀传奇",author:"六耳",type:["01","02"],img:"1.jpg",date:"2020-02-02",flag:"hot",link:"yelingxi"},{id:"1",num:"0002",title:"夜灵犀传奇",author:"六耳",type:["01","03"],img:"2.jpg",date:"2020-02-02",flag:"hot",link:"yelingxi"}],currentPage:1,total:400,pageSize:10,dialogFormVisible:!1,list:[{actDate:"20220522",author:"六耳",context:"<p>相传三国时期，铸剑名家打造了三把赫赫有名的宝剑，分别是：黑曜、赤灵、素渊。\r\n传闻只要三者得其一便可得天下，而这三把宝剑也被魏蜀吴三国的君主各占其一。随着时代的更迭，这三把宝剑也辗转不知了去向。</p> <p>几百年后青莲剑客以一篇《蜀道难》送友人入蜀，传闻这其间还有另鲜为人知的一个秘密。有传言黑曜当时正巧在蜀地现世，像李白这样的剑客又怎能不心动。若得其剑，传一封书信，纵使所隔千里，势必星夜赶至。但是天意弄人，青莲剑客至死也未曾得见这把旷世宝剑。</p> <p>又几百年过去了，又传言这把宝剑在小重山出现，霎时间，江湖又起波澜。曾记得，十年前，一位年纪不满二十的少年横空出世，打破了沉寂已久的江湖，此人便是夜灵犀。没有人知道这少年从何处来，师承何门何派，只记得他只身一人前往少林，挑战主持方丈后全身而退。如今，黑曜现世，又将会带给他怎样的劫数。</p>",createTime:"2022-05-22 13:27:50",id:1,imgName:"1.jpg",instro:"年少热血气如虹，暮年病榻万事空。江湖纷争几时休，笑看痴人坠其中。",num:"0000001",title:"夜灵犀传奇",titleTypeCode:"01,02",titleTypeName:"武侠/爱情",updateTime:"2022-07-15 14:45:27",videoName:"001.mp4"}],detail:{}}},created:function(){this.getDate()},methods:{getDate:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l={},t.next=3,k(l);case 3:o=t.sent,o.responseCode&&"0000"===o.responseCode&&(e.list=o.result);case 5:case"end":return t.stop()}}),t)})))()},onSubmit:function(){console.log("submit!")},handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))},getImg:function(e){if(e){var t=l("08fd")("./".concat(e));return t}},typeAdd:function(e){this.detail=e||{},this.dialogFormVisible=!0},toDetermine:function(){this.dialogFormVisible=!1}}},j=C,D=(l("89b7"),Object(m["a"])(j,o,a,!1,null,"36c2b163",null));t["default"]=D.exports},e461:function(e,t,l){e.exports=l.p+"static/img/2.ca6a744a.jpg"},f48e:function(e,t,l){e.exports=l.p+"static/img/lo.126214b7.png"},f4ac:function(e,t,l){e.exports=l.p+"static/img/1.65f77b91.jpg"},ff08:function(e,t,l){e.exports=l.p+"static/img/4.67bdab85.jpg"}}]);
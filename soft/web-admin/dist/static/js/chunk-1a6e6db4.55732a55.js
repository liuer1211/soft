(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a6e6db4"],{"08fd":function(e,t,o){var l={"./1.jpg":"f4ac","./2.jpg":"e461","./4.jpg":"ff08","./lo.png":"f48e","./logo.png":"4d75","./vlogo.png":"b5fb"};function n(e){var t=a(e);return o(t)}function a(e){if(!o.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=a,e.exports=n,n.id="08fd"},1148:function(e,t,o){"use strict";var l=o("a691"),n=o("1d80");e.exports="".repeat||function(e){var t=String(n(this)),o="",a=l(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(o+=t);return o}},"28c1":function(e,t,o){},"408a":function(e,t,o){var l=o("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=l(e))throw TypeError("Incorrect invocation");return+e}},"4d75":function(e,t,o){e.exports=o.p+"static/img/logo.f792bc06.png"},"77cc":function(e,t,o){},"89b7":function(e,t,o){"use strict";o("8a50")},"8a50":function(e,t,o){},"941f":function(e,t,o){"use strict";o("28c1")},b680:function(e,t,o){"use strict";var l=o("23e7"),n=o("a691"),a=o("408a"),r=o("1148"),i=o("d039"),s=1..toFixed,c=Math.floor,u=function(e,t,o){return 0===t?o:t%2===1?u(e,t-1,o*e):u(e*e,t/2,o)},f=function(e){var t=0,o=e;while(o>=4096)t+=12,o/=4096;while(o>=2)t+=1,o/=2;return t},d=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){s.call({})}));l({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,o,l,i,s=a(this),d=n(e),p=[0,0,0,0,0,0],m="",b="0",g=function(e,t){var o=-1,l=t;while(++o<6)l+=e*p[o],p[o]=l%1e7,l=c(l/1e7)},h=function(e){var t=6,o=0;while(--t>=0)o+=p[t],p[t]=c(o/e),o=o%e*1e7},v=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var o=String(p[e]);t=""===t?o:t+r.call("0",7-o.length)+o}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(m="-",s=-s),s>1e-21)if(t=f(s*u(2,69,1))-69,o=t<0?s*u(2,-t,1):s/u(2,t,1),o*=4503599627370496,t=52-t,t>0){g(0,o),l=d;while(l>=7)g(1e7,0),l-=7;g(u(10,l,1),0),l=t-1;while(l>=23)h(1<<23),l-=23;h(1<<l),g(1,1),h(2),b=v()}else g(0,o),g(1<<-t,0),b=v()+r.call("0",d);return d>0?(i=b.length,b=m+(i<=d?"0."+r.call("0",d-i)+b:b.slice(0,i-d)+"."+b.slice(i-d))):b=m+b,b}})},dca4:function(e,t,o){"use strict";o.r(t);var l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"novel-main"},[o("div",{staticClass:"search-main"},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"书名"}},[o("el-input",{attrs:{clearable:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"作者"}},[o("el-input",{attrs:{clearable:""},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"类型"}},[o("el-select",{attrs:{clearable:"",multiple:"",placeholder:"请选择"},model:{value:e.form.selectVal,callback:function(t){e.$set(e.form,"selectVal",t)},expression:"form.selectVal"}},e._l(e.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),o("el-col",{attrs:{span:24}},[o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1)],1),o("div",{staticClass:"novel-list"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"",stripe:""}},[o("el-table-column",{attrs:{prop:"num",label:"书籍编号"}}),o("el-table-column",{attrs:{prop:"title",label:"书名",width:"180"}}),o("el-table-column",{attrs:{prop:"author",label:"作者"}}),o("el-table-column",{attrs:{label:"类型",prop:"titleTypeName"}}),o("el-table-column",{attrs:{label:"封面"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{attrs:{src:"http://180.76.106.221:5010/images/novel/"+e.row.imgName}})]}}])}),o("el-table-column",{attrs:{prop:"createTime",label:"创建日期",width:"180"}}),o("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.typeAdd(t.row)}}},[e._v("编辑")])]}}])})],1)],1),o("div",{staticClass:"block"},[o("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,total:e.total,layout:"prev, pager, next, jumper, ->, sizes, total"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),o("div",{staticClass:"novel-main-bot"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.typeAdd("")}}},[e._v("新增")])],1),o("Add",{attrs:{dialogFormVisible:e.dialogFormVisible,detail:e.detail},on:{toClose:function(){e.dialogFormVisible=!1},toDetermine:e.toDetermine}})],1)},n=[],a=o("1da1"),r=(o("96cf"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:"新增",visible:e.dialogFormVisible,fullscreen:"",center:"","show-close":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("div",{staticClass:"model-one"},[o("el-form",{attrs:{model:e.formAddOne}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"书名","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.formAddOne.title,callback:function(t){e.$set(e.formAddOne,"title",t)},expression:"formAddOne.title"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"作者","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.formAddOne.author,callback:function(t){e.$set(e.formAddOne,"author",t)},expression:"formAddOne.author"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"书籍类型","label-width":e.formLabelWidth}},[o("el-select",{attrs:{clearable:"",multiple:"",placeholder:"请选择"},model:{value:e.formAddOne.type,callback:function(t){e.$set(e.formAddOne,"type",t)},expression:"formAddOne.type"}},e._l(e.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"内容类别","label-width":e.formLabelWidth}},[o("el-select",{attrs:{clearable:"",multiple:"",placeholder:"请选择"},model:{value:e.formAddOne.infoType,callback:function(t){e.$set(e.formAddOne,"infoType",t)},expression:"formAddOne.infoType"}},e._l(e.optionsType,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"题记","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.formAddOne.instro,callback:function(t){e.$set(e.formAddOne,"instro",t)},expression:"formAddOne.instro"}})],1)],1),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"简介","label-width":e.formLabelWidth}},[e.dialogFormVisible?o("Tiptap",{attrs:{context:e.formAddOne.context},on:{getData:e.getData}}):e._e()],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"上传封面","label-width":e.formLabelWidth}},[o("Cropper"),o("div",{staticClass:"img-tip"},[e._v("图片请上传宽高比例[4:5]，例如：320px*400px。格式为：png/jpg/jpeg")])],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"上传视频","label-width":e.formLabelWidth}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-exceed":e.handleExceed,"file-list":e.fileList}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.toClose}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.toDetermine}},[e._v("确 定")])],1)])],1)}),i=[],s=(o("99af"),o("b0c0"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-tiptap",{attrs:{placeholder:"请输入",extensions:e.extensions},on:{onUpdate:e.getData},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)}),c=[],u=o("4ccc"),f={props:{context:{type:String,default:""}},computed:{},data:function(){return{extensions:[new u["e"],new u["F"],new u["w"],new u["l"]({level:6}),new u["g"],new u["z"],new u["j"],new u["y"],new u["m"],new u["s"],new u["q"]],text:this.context}},methods:{getData:function(){this.$emit("getData",this.text)}},mounted:function(){},beforeDestroy:function(){},destroyed:function(){}},d=f,p=o("2877"),m=Object(p["a"])(d,s,c,!1,null,null,null),b=m.exports,g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"img-bor",staticStyle:{width:"160px",height:"200px"},on:{click:e.getUpload}},[""===e.imgBase64?o("i",{staticClass:"el-icon-plus"}):o("img",{attrs:{src:e.imgBase64}})]),o("el-dialog",{attrs:{title:"提示",visible:e.flag,width:"80%",top:"2vh","append-to-body":""},on:{"update:visible":function(t){e.flag=t}}},[o("ACropper",{ref:"cropperImage",attrs:{optionInfo:e.optionInfo}}),o("el-button",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",type:"primary"},on:{click:e.finishCropper}},[e._v("上传文件")])],1)],1)},h=[],v=(o("b680"),{data:function(){return{optionInfo:{autoCropWidth:160,autoCropHeight:200},flag:!1,imgBase64:""}},methods:{finishCropper:function(){var e=this;this.$refs.cropperImage.$refs.cropper.getCropData((function(t){e.flag=!1,e.imgBase64=t,e.base64ImageSize(t)/1024>4?e.$message.error("上传图片不能大于3M"):(console.log("=="),console.log(t))})),this.$refs.cropperImage.$refs.cropper.getCropBlob((function(t){e.flag=!1,console.log(t)}))},getUpload:function(){this.flag=!0},base64ImageSize:function(e){var t=e,o=t.length,l=parseInt(o-o/8*2),n="";return n=(l/1024).toFixed(2),parseInt(n)}}}),x=v,w=(o("941f"),Object(p["a"])(x,g,h,!1,null,"4f62cf3a",null)),y=w.exports,C={components:{Tiptap:b,Cropper:y},props:{dialogFormVisible:{type:Boolean,default:!1},detail:{type:Object,default:function(){return{}}}},data:function(){return{optionsType:[{value:"01",label:"人物"},{value:"02",label:"武学"},{value:"03",label:"门派"},{value:"04",label:"兵器"},{value:"05",label:"宿命"},{value:"06",label:"其他"}],options:[{value:"01",label:"武侠"},{value:"02",label:"爱情"},{value:"03",label:"家国"},{value:"04",label:"文艺"},{value:"05",label:"青春"}],formAddOne:{title:"",author:"",type:[],img:"",des:"",infoType:[],instro:"",context:""},formLabelWidth:"120px",fileList:[],textInfo:""}},methods:{toClose:function(){this.$emit("toClose",!1)},getData:function(e){this.textInfo=e},toDetermine:function(){console.log("",this.formAddOne,this.textInfo)},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))}},created:function(){console.log("--1--")},mounted:function(){console.log("--2--")},watch:{detail:{handler:function(e,t){console.log("oldVal:",e),e.context?(this.formAddOne.context=e.context,this.formAddOne.instro=e.instro):(console.log("------"),this.formAddOne.context="",this.formAddOne.instro="")},deep:!0}},beforeDestroy:function(){console.log("---b-d=",this.context)},destroyed:function(){console.log("---d=",this.context)}},O=C,k=(o("fc27"),Object(p["a"])(O,r,i,!1,null,"1ab61580",null)),A=k.exports,_=o("bc3a"),j=o.n(_),D=j.a.create({baseURL:"http://180.76.106.221:8001/",timeout:5e3});D.interceptors.request.use((function(e){if("post"==e.method){var t=new FormData;for(var o in e.data)t.append(o,e.data[o]);e.data=t}return e})),D.interceptors.response.use((function(e){return e.data}),(function(e){}));var $=D,F=function(e){return $({url:"/queryNovalList",method:"post",data:e})},S={components:{Add:A},data:function(){return{form:{title:"",author:"",selectVal:[]},options:[{value:"01",label:"武侠"},{value:"02",label:"爱情"},{value:"03",label:"家国"},{value:"04",label:"文艺"},{value:"05",label:"青春"}],tableData:[{id:"1",num:"0001",title:"夜灵犀传奇",author:"六耳",type:["01","02"],img:"1.jpg",date:"2020-02-02",flag:"hot",link:"yelingxi"},{id:"1",num:"0002",title:"夜灵犀传奇",author:"六耳",type:["01","03"],img:"2.jpg",date:"2020-02-02",flag:"hot",link:"yelingxi"}],currentPage:1,total:400,pageSize:10,dialogFormVisible:!1,list:[{actDate:"20220522",author:"六耳",context:"<p>相传三国时期，铸剑名家打造了三把赫赫有名的宝剑，分别是：黑曜、赤灵、素渊。\r\n传闻只要三者得其一便可得天下，而这三把宝剑也被魏蜀吴三国的君主各占其一。随着时代的更迭，这三把宝剑也辗转不知了去向。</p> <p>几百年后青莲剑客以一篇《蜀道难》送友人入蜀，传闻这其间还有另鲜为人知的一个秘密。有传言黑曜当时正巧在蜀地现世，像李白这样的剑客又怎能不心动。若得其剑，传一封书信，纵使所隔千里，势必星夜赶至。但是天意弄人，青莲剑客至死也未曾得见这把旷世宝剑。</p> <p>又几百年过去了，又传言这把宝剑在小重山出现，霎时间，江湖又起波澜。曾记得，十年前，一位年纪不满二十的少年横空出世，打破了沉寂已久的江湖，此人便是夜灵犀。没有人知道这少年从何处来，师承何门何派，只记得他只身一人前往少林，挑战主持方丈后全身而退。如今，黑曜现世，又将会带给他怎样的劫数。</p>",createTime:"2022-05-22 13:27:50",id:1,imgName:"1.jpg",instro:"年少热血气如虹，暮年病榻万事空。江湖纷争几时休，笑看痴人坠其中。",num:"0000001",title:"夜灵犀传奇",titleTypeCode:"01,02",titleTypeName:"武侠/爱情",updateTime:"2022-07-15 14:45:27",videoName:"001.mp4"}],detail:{}}},created:function(){this.getDate()},methods:{getDate:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o={},t.next=3,F(o);case 3:l=t.sent,l.responseCode&&"0000"===l.responseCode&&(e.list=l.result);case 5:case"end":return t.stop()}}),t)})))()},onSubmit:function(){console.log("submit!")},handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))},getImg:function(e){if(e){var t=o("08fd")("./".concat(e));return t}},typeAdd:function(e){this.detail=e||{},this.dialogFormVisible=!0},toDetermine:function(){this.dialogFormVisible=!1}}},I=S,T=(o("89b7"),Object(p["a"])(I,l,n,!1,null,"36c2b163",null));t["default"]=T.exports},e461:function(e,t,o){e.exports=o.p+"static/img/2.ca6a744a.jpg"},f48e:function(e,t,o){e.exports=o.p+"static/img/lo.126214b7.png"},f4ac:function(e,t,o){e.exports=o.p+"static/img/1.65f77b91.jpg"},fc27:function(e,t,o){"use strict";o("77cc")},ff08:function(e,t,o){e.exports=o.p+"static/img/4.67bdab85.jpg"}}]);